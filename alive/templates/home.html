{% extends 'base.html' %}

{% block content %}

<!-- Main hero unit for a primary marketing message or call to action -->
<div class="hero-unit">
  <h1>Follow your favorite taxa!</h1>
  <p>
  <em>Living Bibliography</em> aggregates scientific references by taxa.
  </p>
  {% comment %}
  <p><a class="btn primary large">Learn more &raquo;</a></p>
  {% endcomment %}
</div>

<!-- Example row of columns -->
<div class="row">

  <div class="span8">
    <h2>Step by step</h2>
    <p>
    <ol>
        <li>Type a scientific or common name of a taxon you know.</li>
        <li>Click on your taxon of choice.</li>
        <li>Maybe wait a bit until we fetch the data.</li>
        <li>Browse through references.</li>
    </ol>
    </p>
  </div>

  <div id="site-description" class="span8">
    <h2>What it is</h2>
    <p>
    <em>Living Bibliography</em> aggregates scientific references by taxa. Data is fetched on demand from <a href="http://www.mendeley.com/">Mendeley</a> database (via <a href="http://dev.mendeley.com/">API</a>) and taxon search is powered by <a href="http://www.ubio.org/">uBio</a> <a href="http://www.ubio.org/index.php?pagename=services_overview">NameBank web services</a>.
    </p>
    <p>
    A prototype of this app was initially deployed during the <a href="http://www.mendeley.com/blog/developer-resources/hack4knowledge-mendeley-living-bibliographies-visual-search-and-more-h4k/">Hack4Knowledge</a> meeting. Since then, I made a few improvements to the code and got the basic functions working. It is still pretty raw, but you can now search for any taxon and retrieve the related references.
    </p>
    <p>
    Code is <a href="https://github.com/nelas/livingbib">open source</a>. Feel free to join and share opinions about it.
    </p>
  </div>
</div>

<div id="home-data" class="row">

  <div id="latest-queries" class="span8">
    <h2>Latest updates</h2>
    <p>
    {% for query in queries %}
    <a href="{{ query.taxon.get_absolute_url }}" title="Updated {{ query.taxon.name }} {{ query.timestamp|timesince }} ago">{{ query.taxon.name }}</a>{% if not forloop.last %}, {% endif %}
    {% endfor %}
    </p>
  </div>

  <div id="popular-taxa" class="span8">
    <h2>Trending taxa</h2>

    <table class="zebra-striped">
      <thead>
        <tr>
          <th>Taxon</th>
          <th>References</th>
        </tr>
      </thead>
      <tbody>
        {% for taxon in taxa %}
        <tr>
          <td><a href="{{ taxon.get_absolute_url }}">{{ taxon.name }}</a> {% include 'factor.html' with factor=taxon.factor %}</td>
          <td title="{{ taxon.delta }} new articles added in {{ taxon.timestamp }}">{{ taxon.total_results }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

</div>

<div class="row">

  <div class="span8" id="caveats">
    <h2>Caveats</h2>
    <p>
    <ul>
        <li><del>Reference fetching will not be running continuously. If no references appear after 2 minutes, it might be unavailable at the moment. All queries are queued and references will be fetched when the daemon is running again. Sorry for the inconvenience, I will handle this ASAP.</del> Fixed :)</li>
        <li>You will find duplicated references, badly formatted titles, misnamed authors, wrong journal information, etc. Since data is solely fetched from Mendeley the accuracy of information is on their hands.</li>
        <li>Sometimes Mendeley API returns a "temporarily unavailable" error and fetching is truncated. Otherwise, results are limited to 50 references until the system becomes more stable.</li>
    </ul>
    </p>
  </div>

  <div class="span8">
    <h2>Ideas</h2>
    <p>
    <ul>
        <li>Data visualization with graphs and charts (popular organisms, trending taxa, active authors by taxa, etc).</li>
        <li>Integration with other biological databases (pull data to enrich content, provide external links, etc).</li>
        <li>Fetch articles from different sources.</li>
    </ul>
    </p>
    <p><a class="btn" href="#">View details &raquo;</a></p>
  </div>
</div>

{% endblock %}

{% block sidebar %}
{% endblock %}
